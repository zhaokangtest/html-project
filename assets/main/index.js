System.register("chunks:///_virtual/Adapt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,s,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.view,s=t.ResolutionPolicy,c=t.Component}],execute:function(){var u;e._RF.push({},"03b80CWQLlGBrPCG6B36wVX","Adapt",void 0);var r=n.ccclass;t("Adapt",r(u=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onEnable=function(){this.adapt()},n.init=function(){var t=this;o.setResizeCallback((function(){return t.onResize()}))},n.onResize=function(){this.adapt()},n.adapt=function(){var t=o.getVisibleSize(),i=t.width/t.height,e=o.getDesignResolutionSize(),n=e.width/e.height;i<=1&&i<=n?this.setFitWidth():this.setFitHeight()},n.setFitHeight=function(){o.setResolutionPolicy(s.FIXED_HEIGHT)},n.setFitWidth=function(){o.setResolutionPolicy(s.FIXED_WIDTH)},e}(c))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/api.generated.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,a,i;return{setters:[function(e){t=e.extends,r=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime,a=e.objectWithoutPropertiesLoose},function(e){i=e.cclegacy}],execute:function(){var s=["body","secure","path","type","query","format","baseUrl","cancelToken"];i._RF.push({},"a29f1xQfPtJZKl+SBqVc982","api.generated",void 0);var u=e("ContentType",function(e){return e.Json="application/json",e.FormData="multipart/form-data",e.UrlEncoded="application/x-www-form-urlencoded",e.Text="text/plain",e}({})),c=e("HttpClient",function(){function e(e){var r,i=this;void 0===e&&(e={}),this.baseUrl="/",this.securityData=null,this.securityWorker=void 0,this.abortControllers=new Map,this.customFetch=function(){return fetch.apply(void 0,arguments)},this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=function(e){i.securityData=e},this.contentFormatters=((r={})[u.Json]=function(e){return null===e||"object"!=typeof e&&"string"!=typeof e?e:JSON.stringify(e)},r[u.Text]=function(e){return null!==e&&"string"!=typeof e?JSON.stringify(e):e},r[u.FormData]=function(e){return Object.keys(e||{}).reduce((function(t,r){var n=e[r];return t.append(r,n instanceof Blob?n:"object"==typeof n&&null!==n?JSON.stringify(n):""+n),t}),new FormData)},r[u.UrlEncoded]=function(e){return i.toQueryString(e)},r),this.createAbortSignal=function(e){if(i.abortControllers.has(e)){var t=i.abortControllers.get(e);return t?t.signal:void 0}var r=new AbortController;return i.abortControllers.set(e,r),r.signal},this.abortRequest=function(e){var t=i.abortControllers.get(e);t&&(t.abort(),i.abortControllers.delete(e))},this.request=n(o().mark((function e(r){var c,l,f,p,d,y,h,m,b,g,v,P,k,j;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=r.body,l=r.secure,f=r.path,p=r.type,d=r.query,y=r.format,h=r.baseUrl,m=r.cancelToken,b=a(r,s),e.t1=("boolean"==typeof l?l:i.baseApiParams.secure)&&i.securityWorker,!e.t1){e.next=6;break}return e.next=5,i.securityWorker(i.securityData);case 5:e.t1=e.sent;case 6:if(e.t0=e.t1,e.t0){e.next=9;break}e.t0={};case 9:return g=e.t0,v=i.mergeRequestParams(b,g),P=d&&i.toQueryString(d),k=i.contentFormatters[p||u.Json],j=y||v.format,e.abrupt("return",i.customFetch(""+(h||i.baseUrl||"")+f+(P?"?"+P:""),t({},v,{headers:t({},v.headers||{},p&&p!==u.FormData?{"Content-Type":p}:{}),signal:(m?i.createAbortSignal(m):v.signal)||null,body:null==c?null:k(c)})).then(n(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.clone()).data=null,r.error=null,j){e.next=7;break}e.t0=r,e.next=10;break;case 7:return e.next=9,t[j]().then((function(e){return r.ok?r.data=e:r.error=e,r})).catch((function(e){return r.error=e,r}));case 9:e.t0=e.sent;case 10:if(n=e.t0,m&&i.abortControllers.delete(m),t.ok){e.next=14;break}throw n;case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))));case 15:case"end":return e.stop()}}),e)}))),Object.assign(this,e)}var r=e.prototype;return r.encodeQueryParam=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent("number"==typeof t?t:""+t)},r.addQueryParam=function(e,t){return this.encodeQueryParam(t,e[t])},r.addArrayQueryParam=function(e,t){var r=this;return e[t].map((function(e){return r.encodeQueryParam(t,e)})).join("&")},r.toQueryString=function(e){var t=this,r=e||{};return Object.keys(r).filter((function(e){return void 0!==r[e]})).map((function(e){return Array.isArray(r[e])?t.addArrayQueryParam(r,e):t.addQueryParam(r,e)})).join("&")},r.addQueryParams=function(e){var t=this.toQueryString(e);return t?"?"+t:""},r.mergeRequestParams=function(e,r){return t({},this.baseApiParams,e,r||{},{headers:t({},this.baseApiParams.headers||{},e.headers||{},r&&r.headers||{})})},e}());e("Api",function(e){function n(){for(var r,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).v1={getSignInInfo:function(e){return void 0===e&&(e={}),r.request(t({path:"/v1/api/get_signin_info",method:"GET",type:u.Json,format:"json"},e))},getUserInfo:function(e){return void 0===e&&(e={}),r.request(t({path:"/v1/api/get_user",method:"GET",type:u.Json,format:"json"},e))},login:function(e,n){return void 0===n&&(n={}),r.request(t({path:"/v1/api/login",method:"POST",body:e,type:u.Json,format:"json"},n))},createOrder:function(e,n){return void 0===n&&(n={}),r.request(t({path:"/v1/api/payment/create_order",method:"POST",body:e,type:u.Json,format:"json"},n))},getAllGoods:function(e){return void 0===e&&(e={}),r.request(t({path:"/v1/api/payment/goods",method:"GET",type:u.Json,format:"json"},e))},signIn:function(e,n){return void 0===n&&(n={}),r.request(t({path:"/v1/api/signin",method:"POST",body:e,type:u.Json,format:"json"},n))}},r}return r(n,e),n}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Define.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"cf600/ynHxA/Y+ooVc4+0EA","Define",void 0);e("LOGIN_TYPE",function(e){return e[e.GAME=1]="GAME",e[e.FACEBOOK=2]="FACEBOOK",e[e.APPLE=3]="APPLE",e[e.TEST=4]="TEST",e}({})),e("ResPath",function(e){return e.LoginView="Prefab/Main/LoginView",e.MainView="Prefab/Main/MainView",e.HeadIcon="images/HeadIcon/%0/spriteFrame",e.VipIcon="images/Vip/vip_ui_%0/spriteFrame",e}({})),e("VipName",function(e){return e[e.BRONZE=0]="BRONZE",e[e.SLIVER=1]="SLIVER",e[e.GOLD=2]="GOLD",e[e.GOLD1=3]="GOLD1",e[e.GOLD2=4]="GOLD2",e[e.GOLD3=5]="GOLD3",e[e.GOLD4=6]="GOLD4",e}({})),e("MainViewContent",function(e){return e[e.Home=1]="Home",e[e.Store=2]="Store",e[e.Faq=3]="Faq",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/EventConfig.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"5736esAyDBAwaBtIIrqn3BY","EventConfig",void 0),n("EventConfig",(function(){})).TODAY_TIMER_COUNTDOWN="TODAY_TIMER_COUNTDOWN",t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,s,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,s=e.warn,r=e.log}],execute:function(){n._RF.push({},"a1488lKaLVPY7mmQaZbeeZp","EventManager",void 0);var i=e("EventManager",function(){function e(){this._eventListeners={}}e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.destroy=function(){this.instance&&(this.instance=null)};var n=e.prototype;return n.getEventListenersIndex=function(e,t,n){for(var s=-1,r=0;r<this._eventListeners[e].length;r++){var i=this._eventListeners[e][r];if(i.callBack==t&&(!n||i.target==n)){s=r;break}}return s},n.addEventListener=function(e,t,n){if(!e)return s("eventName is empty"+e),!1;if(null==t)return r("addEventListener callBack is nil"),!1;var i={callBack:t,target:n};null==this._eventListeners[e]?this._eventListeners[e]=[i]:-1==this.getEventListenersIndex(e,t,n)&&this._eventListeners[e].push(i);return!0},n.setEventListener=function(e,t,n){if(!e)return s("eventName is empty"+e),!1;if(null==t)return r("setEventListener callBack is nil"),!1;var i={callBack:t,target:n};return this._eventListeners[e]=[i],!0},n.removeEventListener=function(e,t,n){if(null!=this._eventListeners[e]){var s=this.getEventListenersIndex(e,t,n);-1!=s&&this._eventListeners[e].splice(s,1)}},n.raiseEvent=function(e,n){if(console.log("==================== raiseEvent "+e+" begin | "+JSON.stringify(n)),null!=this._eventListeners[e]){for(var s,r=[],i=t(this._eventListeners[e]);!(s=i()).done;){var a=s.value;r.push({callBack:a.callBack,target:a.target})}for(var l=0,c=r;l<c.length;l++){var v=c[l];v.callBack.call(v.target,e,n)}}console.log("==================== raiseEvent "+e+" end")},e}());i.instance=null;e("EventMgr",i.getInstance());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./EventManager.ts","./EventConfig.ts"],(function(t){var n,e,o,a,r,i,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,a=t.Component},function(t){r=t.GameManager},function(t){i=t.EventMgr},function(t){u=t.EventConfig}],execute:function(){var s;e._RF.push({},"ab56cKQWqxEAoTwUqG3A+0v","GameEntry",void 0);var c=o.ccclass;t("GameEntry",c(s=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){console.log("GameStart")},o.start=function(){this.schedule(this.updateCountdown,1)},o.updateCountdown=function(){if(this.isValid){var t=r.GetNowDayUTC5TimeStamp()-r.GetCurrentTimeStamp(),n=t/3600,e=Math.floor(n).toString().padStart(2,"0")+":"+Math.floor(t%3600/60).toString().padStart(2,"0")+":"+Math.floor(t%60).toString().padStart(2,"0");i.raiseEvent(u.TODAY_TIMER_COUNTDOWN,e)}else this.unschedule(this.updateCountdown)},e}(a))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./api.generated.ts","./Define.ts"],(function(e){var n,t,r,o,s,i,a,c,u,l,f,d,h,g;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,i=e.find,a=e.resources,c=e.Prefab,u=e.instantiate,l=e.assetManager},function(e){f=e.Api},function(e){d=e.LOGIN_TYPE,h=e.VipName,g=e.ResPath}],execute:function(){var p,m;o._RF.push({},"1b4daJU7U9El4eGkjRVG2T1","GameManager",void 0);var I=s.ccclass;s.property,e("GameManager",I("GameManager")(((m=function(){var e=o.prototype;function o(){this.checkout_token="b0b68c5c0b3113e6b5c9567da5c3642257b4c9dce0088ea63bba6148a23e2a4b",this.api=new f({baseUrl:"https://10.0.41.178:11011",baseApiParams:{headers:{"Content-Type":"application/json"}}}),this.loginToken="",this.goodsConfig=[],this.currentOrderInfo={},this.userInfo={avatar:"",coin:0,cash:0,gem:0,level:0,nick:"",vip:0},this.signInInfo=void 0,this.fb_login_response=void 0,this.gameLoginType=d.GAME,this.senceCanvas=void 0,this.senceCanvas=i("Canvas")}return e.Init=function(){AppchargeCheckoutInit({checkoutToken:this.checkout_token,environment:"sandbox"})},e.Login=function(){var e=t(r().mark((function e(n,t,o){var s,i,a,c,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("_loginType  = "+n),console.log("code  = "+t),s={code:t,type:n},e.next=5,this.api.v1.login(s);case 5:return i=e.sent,console.log("response = "+JSON.stringify(i,null,2)),this.gameLoginType=n,this.loginToken=i.data.data.token,console.log("loginToken = "+this.loginToken),e.next=12,this.getUserInfo();case 12:return a=e.sent,console.log("userInfo = "+JSON.stringify(a,null,2)),this.userInfo=a.user_info,e.next=17,this.getSignInInfo();case 17:return c=e.sent,console.log("userInfo = "+JSON.stringify(c,null,2)),this.signInInfo=c,this.signInInfo.sign_in_config.sort((function(e,n){return e.day-n.day})),e.next=23,this.getAllGoods();case 23:u=e.sent,console.log("allGoods = "+u),this.goodsConfig=u.goods,console.log("this.goodsConfig = "+JSON.stringify(u.goods,null,2)),console.log("-------------------------------------------------------------------"),o&&o();case 29:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),e.GetRequest=function(e){if(-1!=e.indexOf("?")){for(var n,t=new Object,r=e.split("?")[1].split("&"),o=0;o<r.length;o++)t[(n=r[o].split("="))[0]]=decodeURIComponent(n[1]);return t}return null},e.getAllGoods=function(){var e=t(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.v1.getAllGoods({headers:{Authorization:this.loginToken}});case 2:if(n=e.sent,console.log("login response",n.data),200===n.data.code){e.next=7;break}throw console.error("getAllGoods failed",n),new Error(n.data.message);case 7:return e.abrupt("return",n.data.data);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.createOrder=function(){var e=t(r().mark((function e(n){var t,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={goods_id:Number(n)},console.log("createOrder request",t),e.next=4,this.api.v1.createOrder(t,{headers:{Authorization:this.loginToken}});case 4:if(o=e.sent,console.log("createOrder response",o.data),200===o.data.code){e.next=9;break}throw console.error("createOrder failed",o),new Error(o.data.message);case 9:return e.abrupt("return",o.data.data);case 10:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.getUserInfo=function(){var e=t(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.v1.getUserInfo({headers:{Authorization:this.loginToken}});case 2:if(n=e.sent,console.log("getUserInfo response",JSON.stringify(n.data)),200===n.data.code){e.next=7;break}throw console.error("getUserInfo failed",n),new Error(n.data.message);case 7:return e.abrupt("return",n.data.data);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.getSignInInfo=function(){var e=t(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.v1.getSignInInfo({headers:{Authorization:this.loginToken}});case 2:if(n=e.sent,console.log("getSignInInfo response",JSON.stringify(n.data)),200===n.data.code){e.next=7;break}throw console.error("getSignInInfo failed",n),new Error(n.data.message);case 7:return e.abrupt("return",n.data.data);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.signIn=function(){var e=t(r().mark((function e(n){var t,o,s,i,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null!=n?n:(null==(t=this.signInInfo)||null==(o=t.sign_in)?void 0:o.sign_index)+1,i={index:s},e.next=4,this.api.v1.signIn(i,{headers:{Authorization:this.loginToken}});case 4:if(a=e.sent,console.log("signIn response",a.data),200===a.data.code){e.next=9;break}throw console.error("signIn failed",a),new Error(a.data.message);case 9:return this.signInInfo=a.data.data,e.abrupt("return",a.data.data);case 11:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.SetOrderInfo=function(e){this.currentOrderInfo=e},e.SDKPurchaseOrder=function(){AppchargeCheckout({checkoutUrl:this.currentOrderInfo.url,sessionToken:this.currentOrderInfo.checkout_session_token,checkoutToken:this.checkout_token,locale:"es",onClose:this.onCloseCallback.bind(this),onInitialLoad:this.onInitialLoadCallback.bind(this),onOrderCreated:this.onOrderCreatedCallback.bind(this),onOrderCompletedFailed:this.onOrderCompletedFailedCallback.bind(this),onOrderCompletedSuccessfully:this.onOrderCompletedSuccessfully.bind(this),onPaymentIntentFailed:this.onPaymentIntentFailed.bind(this),onPaymentIntentSuccess:this.onPaymentIntentSuccess.bind(this)})},e.onCloseCallback=function(e){console.log("onCloseCallback")},e.onInitialLoadCallback=function(e){console.log("onInitialLoadCallback")},e.onOrderCreatedCallback=function(e){console.log("onOrderCreatedCallback")},e.onOrderCompletedFailedCallback=function(e){console.log("onOrderCompletedFailedCallback")},e.onOrderCompletedSuccessfully=function(e){console.log("onOrderCompletedSuccessfully")},e.onPaymentIntentFailed=function(e){console.log("onPaymentIntentFailed")},e.onPaymentIntentSuccess=function(e){console.log("onPaymentIntentSuccess")},e.fetchPricePoints=function(){var e=t(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,getPricePoints("sandbox",n);case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),e.checkFB=function(){void 0!==window.fbLoaded&&window.fbLoaded?(console.log("Facebook SDK 已加载"),this.checkLoginStatus()):console.error("Facebook SDK 尚未加载")},e.checkLoginStatus=function(){var e=this;FB.getLoginStatus((function(n){e.statusChangeCallback(n)}))},e.fb_login=function(e,n){var t=this;FB.login((function(r){t.statusChangeCallback(r,e,n)}),{scope:"public_profile,email"})},e.statusChangeCallback=function(e,n,t){"connected"===e.status?(console.log("成功登录:",e),FB.api("/me",{fields:"name,email"},(function(e){console.log("用户信息:",e)})),this.fb_login_response=e,n&&n()):(console.log("用户未认证"),t&&t())},e.loginWithApple=function(){AppleID.auth.signIn().then((function(e){console.log("Apple 登录成功:",e)})).catch((function(e){console.error("Apple 登录失败:",e)}))},e.IsTodaySigned=function(){var e,n,t=null==(e=this.SignInInfo)||null==(n=e.sign_in)?void 0:n.last_signin_time;return o.IsSameDayUTC5(t)},e.PurchaseOrder=function(){var e=t(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createOrder(n);case 2:t=e.sent,this.SetOrderInfo(t),this.SDKPurchaseOrder();case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e.CloseView=function(e){e.destroy()},e.GetCanvas=function(){return this.senceCanvas},e.ShowView=function(e){var n=this;a.load(e,c,(function(e,t){if(e)console.error("加载 Prefab 失败:",e);else{var r=u(t);n.GetCanvas().addChild(r)}}))},e.GetVipStr=function(){var e=this.userInfo.vip;return h[e]},o.IsSameDay=function(e,n){return!(e<=0||n<=0)&&new Date(1e3*e).setUTCHours(0,0,0,0)/1e3==new Date(1e3*n).setUTCHours(0,0,0,0)/1e3},o.checkGapDay=function(e,n){return(this.GetTimeStampZeroOffsetDate(e,3600*this.UTC_OFFSET,0,!0)/1e3-this.GetTimeStampZeroOffsetDate(n,3600*this.UTC_OFFSET,0,!0)/1e3)/60/60/24},o.GetTimeStampZeroOffsetDate=function(e,n,t,r){void 0===r&&(r=!0),t=t||0;var o=new Date(1e3*e-1e3*n);return(r?o.setUTCHours(0,0,0,0):o.setHours(0,0,0,0))+864e5*t+1e3*n},o.IsSameDayUTC5=function(e){return this.GetTimeStampZeroOffsetDate(this.GetCurrentTimeStamp(),3600*this.UTC_OFFSET,0,!0)/1e3==this.GetTimeStampZeroOffsetDate(e,3600*this.UTC_OFFSET,0,!0)/1e3},o.GetCurrentTimeStamp=function(){return Date.now()/1e3},o.GetTargetDayUTC5TimeStamp=function(e){return new Date(1e3*e).getUTCHours()>=this.UTC_OFFSET?new Date(1e3*(e+86400)).setUTCHours(this.UTC_OFFSET,0,0,0)/1e3:new Date(1e3*e).setUTCHours(this.UTC_OFFSET,0,0,0)/1e3},o.GetNowDayUTC5TimeStamp=function(){var e=this.GetCurrentTimeStamp();return this.GetTargetDayUTC5TimeStamp(e)},o.formatString=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.replace(/%(\d+)/g,(function(e,n){var r=parseInt(n,10);return void 0!==t[r]?String(t[r]):e}))},e.sprintf=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.replace(/%(\d+)/g,(function(e,n){return void 0!==t[parseInt(n)]?t[parseInt(n)]:e}))},e.uiSetUserInfo=function(e){e.lb_vip.string=this.GetVipStr(),e.lb_username.string=o.Ins.UserInfo.nick;var n=this.userInfo.vip,t=this.sprintf(g.VipIcon,n);if(a.load(t,(function(n,t){n?console.error("加载 spriteFrame 失败:",n):e.sp_vip.spriteFrame=t})),this.IsFbLogin){var r=this.UserInfo.avatar;l.loadRemote(r,(function(n,t){n?console.error("加载头像失败:",n):e.sp_head&&(e.sp_head.spriteFrame=t)}))}else{var s=o.formatString(g.HeadIcon,this.UserInfo.avatar);a.load(s,(function(n,t){n?console.error("加载 spriteFrame 失败:",n):e.sp_head.spriteFrame=t}))}},n(o,[{key:"Api",get:function(){return this.api}},{key:"GoodsConfig",get:function(){return this.goodsConfig}},{key:"CurrentOrderInfo",get:function(){return this.currentOrderInfo}},{key:"FbLoginResponse",get:function(){return this.fb_login_response}},{key:"UserInfo",get:function(){return this.userInfo}},{key:"SignInInfo",get:function(){return this.signInInfo}},{key:"GameLoginType",get:function(){return this.gameLoginType}},{key:"IsGameLogin",get:function(){return this.GameLoginType==d.GAME}},{key:"IsFbLogin",get:function(){return this.GameLoginType==d.FACEBOOK}},{key:"IsAppleLogin",get:function(){return this.GameLoginType==d.APPLE}}],[{key:"Ins",get:function(){return this._instance||(this._instance=new o),this._instance}}]),o}())._instance=null,m.UTC_OFFSET=4,p=m))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Define.ts"],(function(n){var e,t,o,i,a,r,s,c,l,u,p,f;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,s=n.Button,c=n.sys,l=n.Component},function(n){u=n.GameManager},function(n){p=n.LOGIN_TYPE,f=n.ResPath}],execute:function(){var h,b,g,w,m,C,d,k;a._RF.push({},"892c2+TDPBN0L5+lwFb2VH8","LoginView",void 0);var y=r.ccclass,L=r.property;n("GameEntry",(h=L(s),b=L(s),g=L(s),y((C=e((m=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,o(e,"btn_game",C,i(e)),o(e,"btn_apple",d,i(e)),o(e,"btn_facebook",k,i(e)),e}t(e,n);var a=e.prototype;return a.onLoad=function(){this.btn_game.node.on(s.EventType.CLICK,this.onGameButtonClick,this),this.btn_facebook.node.on(s.EventType.CLICK,this.onFaceBookButtonClick,this),this.btn_apple.node.on(s.EventType.CLICK,this.onAppleButtonClick,this)},a.onGameButtonClick=function(){c.openURL("jackpotland://slotsdeeplink?msg=weblogin")},a.onFaceBookButtonClick=function(){var n=this;u.Ins.fb_login((function(){u.Ins.Login(p.FACEBOOK,u.Ins.FbLoginResponse.authResponse.userID,(function(){n.JumpMainView()}))}))},a.onAppleButtonClick=function(){u.Ins.loginWithApple()},a.start=function(){this.CheckRequestLogin()},a.CheckRequestLogin=function(){var n=this,e=window.location.href;if(console.log("current url:"+e),e.includes("code")){var t=window.location.href,o=u.Ins.GetRequest(t);u.Ins.Login(p.GAME,o.code,(function(){n.JumpMainView()}))}},a.JumpMainView=function(){u.Ins.CloseView(this),u.Ins.ShowView(f.MainView)},e}(l)).prototype,"btn_game",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(m.prototype,"btn_apple",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(m.prototype,"btn_facebook",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=m))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Define.ts","./EventConfig.ts","./GameManager.ts","./SDKTest.ts","./api.generated.ts","./EventManager.ts","./TaskQueue.ts","./NodePool.ts","./ResKeeper.ts","./ResLeakChecker.ts","./ResLoader.ts","./ResPool.ts","./ResUtil.ts","./UIManager.ts","./UIView.ts","./Adapt.ts","./GameEntry.ts","./LoginView.ts","./MainSaleNode.ts","./MainTab.ts","./MainView.ts","./SignInCell.ts","./SlotUtil.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainSaleNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var i,t,n,r,l,o,a,u,p,c,b;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Button,u=e.Label,p=e.Sprite,c=e.Component},function(e){b=e.GameManager}],execute:function(){var s,_,y,f,g,d,w,m,h,z,v,C,B,L,M,D,N,S,k,F,I;l._RF.push({},"3e9a43uFt1Ef5yb27rrw15s","MainSaleNode",void 0);var E=o.ccclass,G=o.property;e("NewComponent",(s=E("NewComponent"),_=G(a),y=G(u),f=G(u),g=G(u),d=G(u),w=G(u),m=G(p),h=G(p),z=G(p),s((B=i((C=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(i,"btn_buy",B,r(i)),n(i,"lb_was_price",L,r(i)),n(i,"lb_price",M,r(i)),n(i,"lb_discount",D,r(i)),n(i,"lb_cash",N,r(i)),n(i,"lb_reward",S,r(i)),n(i,"sp_logo1",k,r(i)),n(i,"sp_logo2",F,r(i)),n(i,"sp_logo3",I,r(i)),i.data=void 0,i}t(i,e);var l=i.prototype;return l.start=function(){},l.onLoad=function(){this.btn_buy.node.on(a.EventType.CLICK,this.onBuyButtonClick,this)},l.onBuyButtonClick=function(){b.Ins.createOrder(this.data.goods_id)},l.initData=function(e){this.data=e},i}(c)).prototype,"btn_buy",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(C.prototype,"lb_was_price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(C.prototype,"lb_price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(C.prototype,"lb_discount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(C.prototype,"lb_cash",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(C.prototype,"lb_reward",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(C.prototype,"sp_logo1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(C.prototype,"sp_logo2",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(C.prototype,"sp_logo3",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=C))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/MainTab.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Define.ts"],(function(t){var e,i,n,o,a,l,r,s,u,c,b,p,h,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,r=t.Node,s=t.Sprite,u=t.Label,c=t.Button,b=t.Component},function(t){p=t.GameManager},function(t){h=t.MainViewContent,m=t.ResPath}],execute:function(){var f,_,C,g,y,v,w,d,T,k,B,z,L,I,N,V,M,q,K,S,E,P,D,F,H;a._RF.push({},"b34fbeTrQBK/qCLgt0/zab+","MainTab",void 0);var J=l.ccclass,R=l.property;t("MainTab",(f=J("MainTab"),_=R(r),C=R(s),g=R(s),y=R(u),v=R(u),w=R(c),d=R(c),T=R(c),k=R(c),B=R(c),z=R(c),f((N=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(e,"rootNode",N,o(e)),n(e,"sp_head",V,o(e)),n(e,"sp_vip",M,o(e)),n(e,"vipName",q,o(e)),n(e,"playerName",K,o(e)),n(e,"btn_home",S,o(e)),n(e,"btn_store",E,o(e)),n(e,"btn_faq",P,o(e)),n(e,"btn_backtogame",D,o(e)),n(e,"btn_logout",F,o(e)),n(e,"btn_close",H,o(e)),e.mainView=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.btn_home.node.on(c.EventType.CLICK,this.onHomeButtonClick,this),this.btn_store.node.on(c.EventType.CLICK,this.onStoreButtonClick,this),this.btn_faq.node.on(c.EventType.CLICK,this.onFaqButtonClick,this),this.btn_backtogame.node.on(c.EventType.CLICK,this.onBacktogameButtonClick,this),this.btn_logout.node.on(c.EventType.CLICK,this.onLogoutButtonClick,this),this.btn_close.node.on(c.EventType.CLICK,this.onCloseButtonClick,this)},a.initData=function(t){this.mainView=t},a.onHomeButtonClick=function(){this.closeTab(),this.mainView.JumpToPositiom(h.Home)},a.onStoreButtonClick=function(){this.closeTab(),this.mainView.JumpToPositiom(h.Store)},a.onFaqButtonClick=function(){this.closeTab(),this.mainView.JumpToPositiom(h.Faq)},a.onBacktogameButtonClick=function(){this.closeTab()},a.onLogoutButtonClick=function(){p.Ins.CloseView(this.mainView),p.Ins.ShowView(m.LoginView)},a.onCloseButtonClick=function(){this.closeTab()},a.showTab=function(){this.rootNode.active=!0},a.closeTab=function(){this.rootNode.active=!1},a.start=function(){p.Ins.uiSetUserInfo({sp_head:this.sp_head,sp_vip:this.sp_vip,lb_vip:this.vipName,lb_username:this.playerName})},a.update=function(t){},e}(b)).prototype,"rootNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(I.prototype,"sp_head",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(I.prototype,"sp_vip",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(I.prototype,"vipName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(I.prototype,"playerName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(I.prototype,"btn_home",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(I.prototype,"btn_store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(I.prototype,"btn_faq",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(I.prototype,"btn_backtogame",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(I.prototype,"btn_logout",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(I.prototype,"btn_close",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./MainTab.ts","./SlotUtil.ts","./SignInCell.ts","./EventManager.ts","./EventConfig.ts"],(function(n){var i,e,t,l,r,o,a,s,c,u,b,p,g,h,f,S,m,_,y,T,v,C;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,l=n.assertThisInitialized,r=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){a=n.cclegacy,s=n._decorator,c=n.Node,u=n.Button,b=n.Sprite,p=n.Label,g=n.ScrollView,h=n.Vec2,f=n.instantiate,S=n.Component},function(n){m=n.GameManager},function(n){_=n.MainTab},function(n){y=n.SlotUtil},function(n){T=n.SignInCell},function(n){v=n.EventMgr},function(n){C=n.EventConfig}],execute:function(){var w,d,I,D,z,B,M,N,L,V,E,O,U,k,R,H,G,P,q,x,A,Y,F,K,W,X,j,J,Z,Q,$,nn,en,tn,ln,rn,on,an,sn,cn;a._RF.push({},"c6d5eh9OWRAGpDu36rZXl3N","MainView",void 0);var un=s.ccclass,bn=s.property,pn=function(n){return n[n.Horizontal=0]="Horizontal",n[n.Vertical=1]="Vertical",n}(pn||{});n("MainView",(w=bn(c),d=bn(u),I=bn(_),D=bn(c),z=bn(b),B=bn(b),M=bn(p),N=bn(b),L=bn(p),V=bn(p),E=bn(p),O=bn(p),U=bn(u),k=bn(c),R=bn(u),H=bn(u),G=bn(p),P=bn(u),q=bn(c),un((Y=i((A=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i=n.call.apply(n,[this].concat(r))||this,t(i,"mainScrollNode",Y,l(i)),t(i,"btnTab",F,l(i)),t(i,"mainTab",K,l(i)),t(i,"tab_redPoint",W,l(i)),t(i,"sp_head",X,l(i)),t(i,"sp_vip",j,l(i)),t(i,"playerName",J,l(i)),t(i,"vipLogo",Z,l(i)),t(i,"vipName",Q,l(i)),t(i,"lb_cash",$,l(i)),t(i,"lb_gem",nn,l(i)),t(i,"lb_coin",en,l(i)),t(i,"btn_tip",tn,l(i)),t(i,"saleBannerScroll",ln,l(i)),t(i,"btn_store_banner",rn,l(i)),t(i,"btn_faq_banner",on,l(i)),t(i,"lb_btn_signin",an,l(i)),t(i,"btn_signin",sn,l(i)),t(i,"signCell",cn,l(i)),i.signInCellList=[],i.mainScrollView=void 0,i.MainScrollDesignDirection=pn.Vertical,i.SubScrollDesignDirection=pn.Horizontal,i.subScrollBeginDragDirection=pn.Horizontal,i}e(i,n);var a=i.prototype;return a.onLoad=function(){this.mainScrollView=this.mainScrollNode.getComponent(g),this.mainTab.initData(this),this.tab_redPoint.active=!1,this.initUserInfo(),this.btnTab.node.on(u.EventType.CLICK,this.onMainTabButtonClick,this),this.btn_signin.node.on(u.EventType.CLICK,this.onSignInButtonClick,this),this.btn_store_banner.node.on(u.EventType.CLICK,this.onStoreBannerButtonClick,this),this.btn_faq_banner.node.on(u.EventType.CLICK,this.onFaqBannerButtonClick,this),this.saleBannerScroll.on(c.EventType.TOUCH_START,this.onSubScrollTouchStart,this),this.saleBannerScroll.on(c.EventType.TOUCH_MOVE,this.onSubScrollTouchMove,this),v.addEventListener(C.TODAY_TIMER_COUNTDOWN,this.onTodayTimerCountDown,this)},a.onSubScrollTouchStart=function(n){if(this.subScrollBeginDragDirection=Math.abs(n.getDeltaX())>Math.abs(n.getDeltaY())?pn.Horizontal:pn.Vertical,this.subScrollBeginDragDirection==this.SubScrollDesignDirection);else{var i=this.mainScrollView.getScrollOffset();this.mainScrollView.scrollToOffset(new h(i.x,i.y+n.getDeltaY()),0)}},a.onSubScrollTouchMove=function(n){if(this.subScrollBeginDragDirection==this.SubScrollDesignDirection);else{var i=this.mainScrollView.getScrollOffset();this.mainScrollView.scrollToOffset(new h(i.x,i.y+n.getDeltaY()),0)}},a.onStoreBannerButtonClick=function(){},a.onFaqBannerButtonClick=function(){},a.onDestroy=function(){v.removeEventListener(C.TODAY_TIMER_COUNTDOWN,this.onTodayTimerCountDown,this)},a.onTodayTimerCountDown=function(n,i){m.Ins.IsTodaySigned()?this.lb_btn_signin.string=i:this.lb_btn_signin.string="SIGN"},a.start=function(){this.initSigninScroll()},a.initSigninScroll=function(){for(var n,i=null==(n=m.Ins.SignInInfo)?void 0:n.sign_in_config,e=this.signCell.parent,t=0;t<i.length;t++){var l=i[t],r=f(this.signCell);r.active=!0,null==e||e.addChild(r);var o=r.getComponent(T);o.initData(l),this.signInCellList.push(o)}},a.onMainTabButtonClick=function(){this.mainTab.showTab()},a.initUserInfo=function(){this.playerName.string=m.Ins.UserInfo.nick,this.vipName.string=m.Ins.GetVipStr(),m.Ins.uiSetUserInfo({sp_head:this.sp_head,sp_vip:this.sp_vip,lb_vip:this.vipName,lb_username:this.playerName}),this.lb_cash.string=m.Ins.UserInfo.cash.toString(),this.lb_gem.string=m.Ins.UserInfo.gem.toString(),this.lb_coin.string=y.ToThousandsLimitBitWithCutOff(m.Ins.UserInfo.coin,5)},a.onSignInButtonClick=function(){var n=r(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.Ins.signIn();case 2:this.onSignRefreshSignScroll();case 3:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.onSignRefreshSignScroll=function(){for(var n=0;n<this.signInCellList.length;n++){this.signInCellList[n].updateUI()}},a.JumpToPositiom=function(n){},i}(S)).prototype,"mainScrollNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(A.prototype,"btnTab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=i(A.prototype,"mainTab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(A.prototype,"tab_redPoint",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(A.prototype,"sp_head",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(A.prototype,"sp_vip",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(A.prototype,"playerName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=i(A.prototype,"vipLogo",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=i(A.prototype,"vipName",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=i(A.prototype,"lb_cash",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=i(A.prototype,"lb_gem",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),en=i(A.prototype,"lb_coin",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tn=i(A.prototype,"btn_tip",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ln=i(A.prototype,"saleBannerScroll",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rn=i(A.prototype,"btn_store_banner",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=i(A.prototype,"btn_faq_banner",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=i(A.prototype,"lb_btn_signin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sn=i(A.prototype,"btn_signin",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cn=i(A.prototype,"signCell",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A))||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var t,o,r,n,s,i,a;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,r=e.Prefab,n=e.instantiate,s=e.isValid,i=e.error},function(e){a=e.resLoader}],execute:function(){o._RF.push({},"79670Jcz25EHbpPz2sbGO5H","NodePool",void 0);e("NodePool",function(){function e(){this._isReady=!1,this._createCount=0,this._warterMark=10,this._res=null,this._nodes=new Array}var o=e.prototype;return o.isReady=function(){return this._isReady},o.init=function(e,t){var o=this;e instanceof r?(this._res=e,e.addRef(),console.error("NodePool init error "+arguments[0])):a.load(e,r,(function(e,r){e||(o._res=r,o._isReady=!0),t&&t(e,o)}))},o.getNode=function(){return this.isReady?this._nodes.length>0?this._nodes.pop():(this._createCount++,n(this._res)):null},o.freeNode=function(e){if(!e||!s(e))return i("[ERROR] PrefabPool: freePrefab: isValid node"),void this._createCount--;this._warterMark<this._nodes.length?(this._createCount--,e.destroy()):(e.removeFromParent(),this._nodes.push(e))},o.setWaterMark=function(e){this._warterMark=e},o.isUnuse=function(){return this._nodes.length>this._createCount&&i("PrefabPool: _nodes.length > _createCount"),this._nodes.length==this._createCount},o.destory=function(){for(var e,o=t(this._nodes);!(e=o()).done;){e.value.destroy()}this._createCount-=this._nodes.length,this._nodes.length=0,this._res&&this._res.decRef()},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/ResKeeper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts"],(function(e){var r,s,t,n,c;return{setters:[function(e){r=e.inheritsLoose},function(e){s=e.cclegacy,t=e._decorator,n=e.Component},function(e){c=e.resLoader}],execute:function(){var o;s._RF.push({},"e7548uPzG1IHbJAG5JOhIeu","ResKeeper",void 0);var a=t.ccclass;e("ResKeeper",a(o=function(e){function s(){for(var r,s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return(r=e.call.apply(e,[this].concat(t))||this).resCache=new Set,r}r(s,e);var t=s.prototype;return t.load=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];c.load.apply(c,r)},t.cacheAsset=function(e){this.resCache.has(e)||(e.addRef(),this.resCache.add(e))},t.onDestroy=function(){this.releaseAssets()},t.releaseAssets=function(){this.resCache.forEach((function(e){e.decRef()})),this.resCache.clear()},s}(n))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResLeakChecker.ts",["cc","./ResUtil.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.ResUtil}],execute:function(){t._RF.push({},"9487ex5I5NG3qnus+fkql3x","ResLeakChecker",void 0);e("ResLeakChecker",function(){function e(){this.resFilter=null,this._checking=!1,this.traceAssets=new Set}var t=e.prototype;return t.checkFilter=function(e){return!!this._checking&&(!this.resFilter||this.resFilter(e))},t.traceAsset=function(e){e&&this.checkFilter(e)&&(this.traceAssets.has(e)||(e.addRef(),this.traceAssets.add(e),this.extendAsset(e)))},t.extendAsset=function(e){var t=e.addRef,c=e.decRef,r=new Map;e.traceMap=r,e.addRef=function(){var c=s.getCallStack(1),n=r.has(c)?r.get(c)+1:1;r.set(c,n);for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return t.apply(e,i)},e.decRef=function(){var t=s.getCallStack(1),n=r.has(t)?r.get(t)+1:1;r.set(t,n);for(var a=arguments.length,i=new Array(a),h=0;h<a;h++)i[h]=arguments[h];return c.apply(e,i)},e.resetTrace=function(){e.addRef=t,e.decRef=c,delete e.traceMap}},t.resetAsset=function(e){e.resetTrace&&e.resetTrace()},t.untraceAsset=function(e){this.traceAssets.has(e)&&(this.resetAsset(e),e.decRef(),this.traceAssets.delete(e))},t.startCheck=function(){this._checking=!0},t.stopCheck=function(){this._checking=!1},t.getTraceAssets=function(){return this.traceAssets},t.reset=function(){var e=this;this.traceAssets.forEach((function(t){e.resetAsset(t),t.decRef()})),this.traceAssets.clear()},t.dump=function(){this.traceAssets.forEach((function(e){var t=e.traceMap;t&&t.forEach((function(e,t){console.log(e+" : "+t+" ")}))}))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoader.ts",["cc"],(function(e){var s,n,r,o,t;return{setters:[function(e){s=e.cclegacy,n=e.js,r=e.Asset,o=e.assetManager,t=e.resources}],execute:function(){s._RF.push({},"4b081G1b9pJvbDtVt9AUhXd","ResLoader",void 0);var a=e("default",function(){function e(){}var s=e.prototype;return s.parseLoadResArgs=function(e,s,o,t){var a=e,l=s,d=o,u=t;if(void 0===t){var i=n.isChildClassOf(s,r);o?(u=o,i&&(d=null)):void 0!==o||i||(u=s,d=null,l=null),void 0===o||i||(d=s,l=null)}return{paths:a,type:l,onProgress:d,onComplete:u}},s.loadByBundleAndArgs=function(e,s){s.dir?e.loadDir(s.paths,s.type,s.onProgress,s.onComplete):(s.paths,e.load(s.paths,s.type,s.onProgress,s.onComplete))},s.loadByArgs=function(e){var s=this;if(e.bundle)if(o.bundles.has(e.bundle)){var n=o.bundles.get(e.bundle);this.loadByBundleAndArgs(n,e)}else o.loadBundle(e.bundle,(function(n,r){n||s.loadByBundleAndArgs(r,e)}));else this.loadByBundleAndArgs(t,e)},s.load=function(e,s,n,r,o){var t=null;"string"==typeof s||s instanceof Array?(t=this.parseLoadResArgs(s,n,r,o)).bundle=e:t=this.parseLoadResArgs(e,s,n,r),this.loadByArgs(t)},s.loadDir=function(e,s,n,r,o){var t=null;"string"==typeof s?(t=this.parseLoadResArgs(s,n,r,o)).bundle=e:t=this.parseLoadResArgs(e,s,n,r),t.dir=t.paths,this.loadByArgs(t)},s.loadRemote=function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];o.loadRemote(e,n)},e}());e("resLoader",new a);s._RF.pop()}}}));

System.register("chunks:///_virtual/ResPool.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4d239KZe5hI4Zb4kyjxarWh","ResPool",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResUtil.ts",["cc","./ResKeeper.ts"],(function(e){var n,t,r,s;return{setters:[function(e){n=e.cclegacy,t=e.Asset,r=e.instantiate},function(e){s=e.ResKeeper}],execute:function(){n._RF.push({},"8f503HZlhxLTY5UPaFTxC1e","ResUtil",void 0);e("ResUtil",function(){function e(){}return e.load=function(n){for(var t=e.getResKeeper(n),r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];t.load.apply(t,s)},e.getResKeeper=function(n,t){if(n){var r=n.getComponent(s);return r||(t?n.addComponent(s):e.getResKeeper(n.parent,t))}return null},e.assignWith=function(n,r,s){var i=e.getResKeeper(r,s);return i&&n instanceof t?(i.cacheAsset(n),n):(console.error("assignWith "+n+" to "+r+" faile"),null)},e.instantiate=function(n){var t=r(n),s=e.getResKeeper(t,!0);return s&&s.cacheAsset(n),t},e.findCharPos=function(e,n,t){for(var r=e.indexOf(n),s=r,i=0;i<t;i++){if(-1==(r=e.indexOf(n,r+1)))return s;s=r}return s},e.getCallStack=function(n){var t=(new Error).stack,r=e.findCharPos(t,"\n",n);return r>0&&(t=t.slice(r)),t},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/SDKTest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var n,e,o,r,i,a,s,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Button,c=t.Component},function(t){u=t.GameManager}],execute:function(){var l,p,f,d,h;i._RF.push({},"981f7lb1XhCNY3r/NiTj5B1","SDKTest",void 0);var g=a.ccclass,y=a.property;t("SDKTest",(l=g("SDKTest"),p=y(s),l((h=n((d=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i))||this,o(n,"button",h,r(n)),n}e(n,t);var i=n.prototype;return i.onLoad=function(){this.button.node.on(s.EventType.CLICK,this.onButtonClick,this)},i.start=function(){},i.onButtonClick=function(){var t=u.Ins.GoodsConfig;u.Ins.createOrder(t[0].goods_id).then((function(t){console.log("data = "+t),u.Ins.SetOrderInfo(t),u.Ins.SDKPurchaseOrder()}))},n}(c)).prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=d))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/SignInCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SlotUtil.ts","./GameManager.ts"],(function(i){var t,n,e,a,o,l,r,s,c,u,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,l=i._decorator,r=i.Label,s=i.Node,c=i.Component},function(i){u=i.SlotUtil},function(i){p=i.GameManager}],execute:function(){var d,f,h,b,g,_,y,v,I,m,S;o._RF.push({},"11bd7Pfi/FGkoAIg4raIDca","SignInCell",void 0);var z=l.ccclass,C=l.property;i("SignInCell",(d=z("SignInCell"),f=C(r),h=C(s),b=C(s),g=C(r),d((v=t((y=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=i.call.apply(i,[this].concat(o))||this).data=void 0,e(t,"lb_day",v,a(t)),e(t,"sp_duihao",I,a(t)),e(t,"sp_coin",m,a(t)),e(t,"lb_coin",S,a(t)),t}n(t,i);var o=t.prototype;return o.start=function(){},o.update=function(i){},o.initData=function(i){this.data=i,this.lb_day.string="DAY "+i.day,this.lb_coin.string=u.ToThousandsLimitBitWithCutOff(i.coin,5),this.updateUI()},o.updateUI=function(){var i,t;this.sp_duihao.active=!1,this.sp_coin.active=!1;var n=this.data.day,e=(null==(i=p.Ins.SignInInfo)||null==(t=i.sign_in)?void 0:t.sign_index)+1;this.sp_coin.active=n>=e,this.sp_duihao.active=n<e},t}(c)).prototype,"lb_day",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(y.prototype,"sp_duihao",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"sp_coin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(y.prototype,"lb_coin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=y))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/SlotUtil.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"83016juu3VPGK69VqeL3TCR","SlotUtil",void 0);var n=function(){function t(){this._stringArray=[]}var i=t.prototype;return i.Append=function(t){this._stringArray.push(t)},i.Clear=function(){this._stringArray=[]},i.Insert=function(t,i){this._stringArray.splice(t,0,i)},i.ToString=function(){return this._stringArray.join("")},t}(),r=t("SlotUtil",function(){function t(){}return t.ToThousands=function(i){t.stringBuilder.Clear();var n=(i||0).toString();for(t.stringBuilder.Append("");n.length>3;)t.stringBuilder.Insert(0,n.slice(-3)),t.stringBuilder.Insert(0,","),n=n.slice(0,n.length-3);return n&&t.stringBuilder.Insert(0,n),t.stringBuilder.ToString()},t.ToThousandsLimitBitWithCutOff=function(i,n,r,s){if(void 0===n&&(n=Number.MAX_VALUE),void 0===r&&(r="0"),void 0===s&&(s=""),0==i)return r;var e=0,u=this.ToThousands(i);if(""!=s)e=t.units.indexOf(s.toUpperCase());else if(u.length>n)for(;u.length-4*e>n-1;)e++;return e=Math.min(e,this.units.length-1),u=u.substring(0,u.length-4*e),t.stringBuilder.Clear(),t.stringBuilder.Append(u),t.stringBuilder.Append(this.units[e]),t.stringBuilder.ToString()},t.GetIndexToThousandsLimitBitWithCutOff=function(t,i,n){if(void 0===i&&(i=Number.MAX_VALUE),0==t)return 0;var r=0,s=this.ToThousands(t);if(s.length>i)for(;s.length-4*r>i-1;)r++;return r=Math.min(r,this.units.length-1)},t.getUnits=function(){return this.units},t.ToThousandsLimitBitWithCutOffAndFixUnit=function(i,n,r){if(void 0===n&&(n=0),void 0===r&&(r="0"),0==i)return r;n=Math.min(n,this.units.length-1);var s=this.ToThousands(i);return s=s.substring(0,s.length-4*n),t.stringBuilder.Clear(),t.stringBuilder.Append(s),t.stringBuilder.Append(this.units[n]),t.stringBuilder.ToString()},t}());r.stringBuilder=new n,r.units=["","K","M","B","T","Q","Qn"],i._RF.pop()}}}));

System.register("chunks:///_virtual/TaskQueue.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"c733fO5fuJEJYG8VCrTFKgN","TaskQueue",void 0);var e=function(t,s){this.task=void 0,this.priority=void 0,this.task=t,this.priority=s},u=t("TaskQueue",function(){function t(){this._curTask=null,this._taskQueue=Array()}var s=t.prototype;return s.pushTask=function(t,s){void 0===s&&(s=0);var u=new e(t,s);if(this._taskQueue.length>0)for(var i=this._taskQueue.length-1;i>=0;--i)if(this._taskQueue[i].priority<=s)return void this._taskQueue.splice(i+1,0,u);this._taskQueue.splice(0,0,u),null==this._curTask&&this.executeNextTask()},s.clearTask=function(){this._curTask=null,this._taskQueue.length=0},s.executeNextTask=function(){var t=this,s=this._taskQueue.shift()||null;this._curTask=s,s&&s.task((function(){s===t._curTask?t.executeNextTask():console.warn("your task finish twice!")}))},t}());t("TaskManager",function(){function t(){this._taskQueues={}}t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.destory=function(){this._instance=null};var s=t.prototype;return s.pushTask=function(t,s){return void 0===s&&(s=0),this.getTaskQueue().pushTask(t,s)},s.pushTaskByTag=function(t,s,e){return void 0===e&&(e=0),this.getTaskQueue(s).pushTask(t,e)},s.clearTaskQueue=function(t){void 0===t&&(t=0);var s=this._taskQueues[t];s&&s.clearTask()},s.clearAllTaskQueue=function(){for(var t in this._taskQueues)this._taskQueues[t].clearTask();this._taskQueues={}},s.getTaskQueue=function(t){void 0===t&&(t=0);var s=this._taskQueues[t];return null==s&&(s=new u,this._taskQueues[t]=s),s},t}())._instance=null,s._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoader.ts","./UIView.ts"],(function(e){var t,i,n,o,s,a,r,u,l,h,c,I;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,n=e.Node,o=e.UITransform,s=e.view,a=e.director,r=e.log,u=e.instantiate,l=e.isValid},function(e){h=e.resLoader},function(e){c=e.UIShowTypes,I=e.UIView}],execute:function(){i._RF.push({},"1e5dcyfKDdEoIrGOEeuwIfW","UIManager",void 0);var d=e("UIManager",function(){function e(){this.useCount=0,this.BackGroundUI=0,this.isClosing=!1,this.isOpening=!1,this.UICache={},this.UIStack=[],this.UIOpenQueue=[],this.UICloseQueue=[],this.UIConf={},this.uiOpenBeforeDelegate=null,this.uiOpenDelegate=null,this.uiCloseDelegate=null}var i=e.prototype;return i.initUIConf=function(e){this.UIConf=e},i.setUIConf=function(e,t){this.UIConf[e]=t},i.preventTouch=function(e){var t=new n;t.name="preventTouch";var i=t.addComponent(o);return i.setContentSize(s.getVisibleSize()),t.on(n.EventType.TOUCH_START,(function(e){e.propagationStopped=!0}),t),a.getScene().getChildByName("Canvas").addChild(t),i.priority=e-.01,t},i.autoExecNextUI=function(){if(this.UICloseQueue.length>0){var e=this.UICloseQueue[0];this.UICloseQueue.splice(0,1),this.close(e)}else if(this.UIOpenQueue.length>0){var t=this.UIOpenQueue[0];this.UIOpenQueue.splice(0,1),this.open(t.uiId,t.uiArgs)}},i.autoExecAnimation=function(e,t,i){i()},i.autoLoadRes=function(e,t){t()},i.updateUI=function(){for(var e=0,t=this.UIStack.length-1;t>=0;--t){var i=this.UIStack[t].uiView.showType;if(this.UIStack[t].uiView.node.active=!0,c.UIFullScreen==i)break;if(c.UISingle==i){for(var n=0;n<this.BackGroundUI;++n)this.UIStack[n]&&(this.UIStack[n].uiView.node.active=!0);e=this.BackGroundUI;break}}for(var o=e;o<t;++o)this.UIStack[o].uiView.node.active=!1},i.getOrCreateUI=function(e,t,i,n){var o=this,s=this.UICache[e];if(s)i(s);else{var a=this.UIConf[e].prefab;if(null==a)return r("getOrCreateUI "+e+" faile, prefab conf not found!"),void i(null);h.load(a,t,(function(t,l){if(t)return r("getOrCreateUI loadRes "+e+" faile, path: "+a+" error: "+t),void i(null);var h=u(l);return null==h?(r("getOrCreateUI instantiate "+e+" faile, path: "+a),i(null),void l.decRef()):null==(s=h.getComponent(I))?(r("getOrCreateUI getComponent "+e+" faile, path: "+a),h.destroy(),i(null),void l.decRef()):void o.autoLoadRes(s,(function(){s.init(n),i(s),s.cacheAsset(l)}))}))}},i.onUIOpen=function(e,t,i,r){var u=this;if(null!=t){i.uiView=t,t.node.active=!0;var l=t.getComponent(o);if(l||(l=t.addComponent(o)),t.quickClose){var h=t.node.getChildByName("background");if(!h){(h=new n).name="background";var c=h.addComponent(o);c.setContentSize(s.getVisibleSize()),t.node.addChild(h),c.priority=-1}h.targetOff(n.EventType.TOUCH_START),h.on(n.EventType.TOUCH_START,(function(e){e.propagationStopped=!0,u.close(t)}),h)}a.getScene().getChildByName("Canvas").addChild(t.node),l.priority=i.zOrder||this.UIStack.length,this.updateUI();var I=0;this.UIStack.length>1&&(I=this.UIStack[this.UIStack.length-2].uiId),this.uiOpenBeforeDelegate&&this.uiOpenBeforeDelegate(e,I),t.onOpen(I,r),this.autoExecAnimation(t,"uiOpen",(function(){t.onOpenAniOver(),u.uiOpenDelegate&&u.uiOpenDelegate(e,I)}))}},i.open=function(e,t,i){var n=this;void 0===t&&(t=null),void 0===i&&(i=null);var o={uiId:e,uiArgs:t,uiView:null};this.isOpening||this.isClosing?this.UIOpenQueue.push(o):-1==this.getUIIndex(e)?(o.zOrder=this.UIStack.length+1,this.UIStack.push(o),this.UIConf[e].preventTouch&&(o.preventNode=this.preventTouch(o.zOrder)),this.isOpening=!0,this.getOrCreateUI(e,i,(function(i){if(o.isClose||null==i)return r("getOrCreateUI "+e+" faile!\n                        close state : "+o.isClose+" , uiView : "+i),n.isOpening=!1,void(o.preventNode&&(o.preventNode.destroy(),o.preventNode=null));n.onUIOpen(e,i,o,t),n.isOpening=!1,n.autoExecNextUI()}),t)):this.closeToUI(e,t)},i.replace=function(e,t){void 0===t&&(t=null),this.close(this.UIStack[this.UIStack.length-1].uiView),this.open(e,t)},i.close=function(e){var t=this,i=this.UIStack.length;if(i<1||this.isClosing||this.isOpening)e&&this.UICloseQueue.push(e);else{var n;if(e)for(var o=this.UIStack.length-1;o>=0;o--){var s=this.UIStack[o];if(s.uiView===e){n=s,this.UIStack.splice(o,1);break}}else n=this.UIStack.pop();if(void 0!==n){var a=n.uiId,u=n.uiView;if(n.isClose=!0,n.preventNode&&(n.preventNode.destroy(),n.preventNode=null),u){var l=this.UIStack[i-2];this.updateUI();var h=function(){t.isClosing=!1,l&&l.uiView&&t.isTopUI(l.uiId)?(l.uiView.node.active=!0,l.uiView.onTop(a,u.onClose())):u.onClose(),t.uiCloseDelegate&&t.uiCloseDelegate(a),u.cache?(t.UICache[a]=u,u.node.removeFromParent(),r("uiView removeFromParent "+n.uiId)):(u.releaseAssets(),u.node.destroy(),r("uiView destroy "+n.uiId)),t.autoExecNextUI()};this.autoExecAnimation(u,"uiClose",h)}}}},i.closeAll=function(){for(var e,i=t(this.UIStack);!(e=i()).done;){var n=e.value;n.isClose=!0,n.preventNode&&(n.preventNode.destroy(),n.preventNode=null),n.uiView&&(n.uiView.onClose(),n.uiView.releaseAssets(),n.uiView.node.destroy())}this.UIOpenQueue=[],this.UICloseQueue=[],this.UIStack=[],this.isOpening=!1,this.isClosing=!1},i.closeToUI=function(e,t,i){void 0===i&&(i=!0);var n=this.getUIIndex(e);if(-1!=n){n=i?n:n+1;for(var o=this.UIStack.length-1;o>=n;--o){var s=this.UIStack.pop();if(s){var a=s.uiId,r=s.uiView;s.isClose=!0,s.preventNode&&(s.preventNode.destroy(),s.preventNode=null),this.uiCloseDelegate&&this.uiCloseDelegate(a),r&&(r.onClose(),r.cache?(this.UICache[a]=r,r.node.removeFromParent()):(r.releaseAssets(),r.node.destroy()))}}this.updateUI(),this.UIOpenQueue=[],this.UICloseQueue=[],i&&this.open(e,t)}},i.clearCache=function(){for(var e in this.UICache){var t=this.UICache[e];l(t.node)&&(l(t)&&t.releaseAssets(),t.node.destroy())}this.UICache={}},i.isTopUI=function(e){return 0!=this.UIStack.length&&this.UIStack[this.UIStack.length-1].uiId==e},i.getUI=function(e){for(var t=0;t<this.UIStack.length;t++){var i=this.UIStack[t];if(e==i.uiId)return i.uiView}return null},i.getTopUI=function(){return this.UIStack.length>0?this.UIStack[this.UIStack.length-1].uiView:null},i.getUIIndex=function(e){for(var t=0;t<this.UIStack.length;t++){if(e==this.UIStack[t].uiId)return t}return-1},e}());e("uiManager",new d);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResKeeper.ts"],(function(e){var n,i,r,t,o,c,u,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.Enum},function(e){l=e.ResKeeper}],execute:function(){var a,p,s,f,y,d,I;o._RF.push({},"b3fd73zbXFPLrgj6Pd3HWEd","UIView",void 0);var b=c.ccclass,h=c.property,U=e("UIShowTypes",function(e){return e[e.UIFullScreen=0]="UIFullScreen",e[e.UIAddition=1]="UIAddition",e[e.UISingle=2]="UISingle",e}({}));e("UIView",(a=h({type:u(U)}),b(((I=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,r(n,"quickClose",f,t(n)),r(n,"cache",y,t(n)),r(n,"showType",d,t(n)),n.UIid=0,n}i(n,e);var o=n.prototype;return o.init=function(){},o.onOpen=function(e){},o.onOpenAniOver=function(){},o.onClose=function(){},o.onTop=function(e){},n}(l)).uiIndex=0,f=n((s=I).prototype,"quickClose",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=n(s.prototype,"cache",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=n(s.prototype,"showType",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.UISingle}}),p=s))||p));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});